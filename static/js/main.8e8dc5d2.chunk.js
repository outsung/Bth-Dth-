(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{57:function(t,e,r){"use strict";r.r(e);var n=r(6),a=r(0),i=r.n(a),o=r(20),s=r.n(o),c=r(9),h=r(10),l=r(39);function u(){var t=Object(l.a)(["\n  width: 100vw;\n  height: 100vh;\n"]);return u=function(){return t},t}var f=r(40).a.div(u()),p=r(7),x=r(1),j=r(61),d=r(59),b=r(62),v=r(58);var y=function(){var t=Object(b.a)().progress;return Object(n.jsx)(v.a,{center:!0,children:Object(n.jsxs)("span",{style:{color:"#FFFFFF"},children:[t," % loaded"]})})},g=r(12);var O=function(t){var e=t.children,r=Object(g.a)(t,["children"]),i=Object(a.useRef)(),o=Object(h.e)().viewport,s=Object(a.useMemo)((function(){return[new x.Euler(0,0,0),new x.Quaternion(0,0,0,0)]}),[]),l=Object(c.a)(s,2),u=l[0],f=l[1];return Object(h.b)((function(t){var e=t.mouse;if(i.current){var r=e.x*o.width/100,n=e.y*o.height/100;u.set(n,r,0),f.setFromEuler(u),i.current.quaternion.slerp(f,.1)}})),Object(n.jsx)("group",Object(p.a)(Object(p.a)({},r),{},{ref:i,children:e}))};function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:380,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64;this._filmThickness=t||380,this._refractiveIndexFilm=e||2,this._refractiveIndexBase=r||3,this._size=n||64,this._data=new Uint8Array(4*this._size),this._updateData(),x.DataTexture.call(this,this._data,this._size,1,x.RGBAFormat,x.UnsignedByteType,x.UVMapping,x.RepeatWrapping,x.RepeatWrapping,x.LinearFilter,x.LinearMipMapLinearFilter),this.generateMipmaps=!0,this.needsUpdate=!0}m.prototype=Object.create(x.DataTexture.prototype,{filmThickness:{get:function(){return this._filmThickness},set:function(t){this._filmThickness=t,this.updateSettings(this._filmThickness,this._refractiveIndexFilm,this._refractiveIndexBase)}},refractiveIndexFilm:{get:function(){return this._refractiveIndexFilm},set:function(t){this._refractiveIndexFilm=t,this.updateSettings(this._filmThickness,this._refractiveIndexFilm,this._refractiveIndexBase)}},refractiveIndexBase:{get:function(){return this._refractiveIndexBase},set:function(t){this._refractiveIndexBase=t,this.updateSettings(this._filmThickness,this._refractiveIndexFilm,this._refractiveIndexBase)}}}),m.prototype.updateSettings=function(t,e,r){this._filmThickness=t||380,this._refractiveIndexFilm=e||2,this._refractiveIndexBase=r||3,this._updateData()},m.prototype._fresnelRefl=function(t,e,r,n,a,i){var o=1-r*r,s=t/e;if(s*s*o>1){a.x=1,a.y=1;var c=s*s;i.x=2*Math.atan(-c*Math.sqrt(o-1/c)/r),i.y=2*Math.atan(-Math.sqrt(o-1/c)/r)}else{var h=(e*r-t*n)/(e*r+t*n),l=(t*r-e*n)/(t*r+e*n);i.x=h<0?Math.PI:0,i.y=l<0?Math.PI:0,a.x=h*h,a.y=l*l}},m.prototype._updateData=function(){var t=this._filmThickness,e=this._refractiveIndexFilm,r=this._refractiveIndexBase,n=this._size;function a(t){var e=(t-442)*(t<442?.0624:.0374),r=(t-599.8)*(t<599.8?.0264:.0323),n=(t-501.1)*(t<501.1?.049:.0382);return.362*Math.exp(-.5*e*e)+1.056*Math.exp(-.5*r*r)-.065*Math.exp(-.5*n*n)}function i(t){var e=(t-568.8)*(t<568.8?.0213:.0247),r=(t-530.9)*(t<530.9?.0613:.0322);return.821*Math.exp(-.5*e*e)+.286*Math.exp(-.5*r*r)}function o(t){var e=(t-437)*(t<437?.0845:.0278),r=(t-459)*(t<459?.0385:.0725);return 1.217*Math.exp(-.5*e*e)+.681*Math.exp(-.5*r*r)}for(var s=this._data,c=new x.Vector2,h=new x.Vector2,l=new x.Vector2,u=new x.Vector2,f=new x.Vector2,p=new x.Vector2,j=new x.Vector2,d=new x.Vector2,b=new x.Vector2,v=new x.Vector2,y=new x.Vector2,g=new x.Vector2,O=1/(e*e),m=e*e/(r*r),F=0;F<n;++F){var M=F/n,_=Math.sqrt(1-O*(1-M*M)),k=Math.sqrt(1-m*(1-_*_)),I=2*e*t*_,w=2*Math.PI*I;this._fresnelRefl(1,e,M,_,u,c),f.x=1-u.x,f.y=1-u.y,h.x=Math.PI-c.x,h.y=Math.PI-c.y,this._fresnelRefl(e,r,_,k,p,l),j.x=Math.sqrt(p.x*u.x),j.y=Math.sqrt(p.y*u.y),d.x=Math.sqrt(f.x*f.x),d.y=Math.sqrt(f.y*f.y),b.x=f.x*f.x*p.x/(1-p.x*u.x),b.y=f.y*f.y*p.y/(1-p.y*u.y),v.x=j.x*j.x,v.y=j.y*j.y,y.x=u.x+b.x,y.y=u.y+b.y,g.x=b.x-d.x,g.y=b.y-d.y;for(var D=0,B=0,T=0,V=0,q=0,R=0,S=0;S<64;++S){var A=380+S/63*400,C=w/A,L=Math.cos(C+l.x+h.x),P=Math.cos(C+l.y+h.y),z=.5*(y.x+2*(j.x*L-v.x)/(1-2*j.x*L+v.x)*g.x+(y.y+2*(j.y*P-v.y)/(1-2*j.y*P+v.y)*g.y)),W=a(A),E=i(A),U=o(A);V+=W,q+=E,R+=U,D+=W*z,B+=E*z,T+=U*z}var G=3.2406*(D/=V)-1.5372*(B/=q)-.4986*(T/=R),J=-.9689*D+1.8758*B+.0415*T,Q=.0557*D-.204*B+1.057*T;G=x.Math.clamp(G,0,1),J=x.Math.clamp(J,0,1),Q=x.Math.clamp(Q,0,1),G=Math.sqrt(G),J=Math.sqrt(J),Q=Math.sqrt(Q);var H=F<<2;s[H]=Math.floor(255*G),s[H+1]=Math.floor(255*J),s[H+2]=Math.floor(255*Q),s[H+3]=255}this.needsUpdate=!0};var F=m;function M(t){var e=t.sideMaterial,r=t.reflectionMaterial,i=t.args,o=t.position,s=t.rotation,c=t.layers,l=Object(a.useRef)({});return Object(h.b)((function(){l.current.rotation.y+=.001,l.current.rotation.z+=.01})),Object(n.jsx)(d.a,{layers:c,ref:l,args:i,position:o,rotation:s,material:[e,e,e,e,r,r]})}M.defaultProps={args:void 0,position:void 0,rotation:void 0,layers:[0]};var _=M,k={mirrors:[{args:[2.8,2.9,.05],position:[3.1,-2.1,-7.9],rotation:[1.2,-1.6,-2.8]},{args:[1.7,1.9,.05],position:[-3.3,3.5,-6.5],rotation:[1.3,-.2,.7]},{args:[2.8,2.9,.05],position:[1.2,2.8,-6.4],rotation:[-1.3,2.8,-.1]},{args:[2.2,1.3,.05],position:[4.5,.9,-5.8],rotation:[-2.3,.6,-.3]},{args:[1.7,2.6,.05],position:[-2.8,-3,-5.4],rotation:[-1.4,3,2.5]},{args:[1.1,1.8,.05],position:[-0,-1.3,-2.4],rotation:[1.2,-.3,-2.1]},{args:[2.2,2.6,.05],position:[-4.1,-.3,-2.4],rotation:[1.4,1.8,-2.2]},{args:[2,1.5,.05],position:[6.5,-2.6,-6.2],rotation:[1.1,.5,.4]},{args:[1.3,1.5,.05],position:[3.6,-4.1,-4.3],rotation:[-.7,1.4,2]},{args:[5.1,4.4,.05],position:[.6,7,-8.3],rotation:[-0,1.9,.5]}]};var I=function(t){var e=t.envMap,r=t.layers,i=t.thinFilmFresnel,o=Object(a.useState)(new F),s=Object(c.a)(o,1)[0],l=Object(h.d)(),u=Object(h.d)();return Object(n.jsxs)("group",{children:[Object(n.jsx)("meshLambertMaterial",{ref:l,map:i?s:void 0,color:"#AAAAAA"}),Object(n.jsx)("meshLambertMaterial",{ref:u,map:i?s:void 0,envMap:e,color:"#FFFFFF"}),k.mirrors.map((function(t){return Object(n.jsx)(_,{layers:r,args:[t.args[0],t.args[1],t.args[2]],position:[t.position[0],t.position[1],t.position[2]],rotation:[t.rotation[0],t.rotation[1],t.rotation[2]],sideMaterial:l.current,reflectionMaterial:u.current})}))]})},w=r(60);function D(t){var e=t.layers,r=t.position,i=t.content,o=t.color,s=Object(g.a)(t,["layers","position","content","color"]),c=Object(a.useRef)({});return Object(a.useEffect)((function(){c.current.lookAt(0,0,0)}),[]),Object(n.jsx)("group",Object(p.a)(Object(p.a)({},s),{},{position:r,ref:c,children:Object(n.jsx)(w.a,{layers:e,"material-color":o,fontSize:2.5,children:i})}))}D.defaultProps={color:"#FFFFFF"};var B=D;function T(){var t=Object(j.a)("C8D1DC_575B62_818892_6E747B"),e=Object(c.a)(t,1)[0];return Object(n.jsx)(d.b,{layers:[11],name:"background",args:[20,4],position:[0,0,-5],children:e instanceof x.Texture?Object(n.jsx)("meshMatcapMaterial",{matcap:e,side:x.BackSide,transparent:!0,opacity:.3,color:"#FFFFFF"}):Object(n.jsx)(n.Fragment,{})})}function V(t){var e=t.layers,r=t.content,i=t.color,o=Object(a.useMemo)((function(){return new x.IcosahedronGeometry(10).vertices}),[]);return Object(n.jsx)("group",{children:o.map((function(t){return Object(n.jsx)(B,{color:i,layers:e,position:t,content:r})}))})}var q=function(t){var e=t.mode,r=t.content,i=t.toggleMode,o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(a.useMemo)((function(){var e={format:x.RGBAFormat,generateMipmaps:!0};return new x.WebGLCubeRenderTarget(1024,Object(p.a)(Object(p.a)({},e),t))}),[t]),r=Object(a.useRef)({});return Object(h.b)((function(t){var e=t.gl,n=t.scene;r.current.update&&r.current.update(e,n)})),{cubeCamera:r,renderTarget:e}}(),s=o.cubeCamera,c=o.renderTarget,l=r["Dark"===e?"White":"Dark"],u=r[e];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("color",{attach:"background",args:"Dark"===e?[0,0,0]:[1,1,1]}),Object(n.jsx)(a.Suspense,{fallback:Object(n.jsx)(y,{}),children:Object(n.jsxs)(O,{children:[Object(n.jsx)(T,{}),Object(n.jsx)(V,{color:"Dark"===e?"#FFFFFF":"#000000",layers:[11],content:l}),Object(n.jsx)("cubeCamera",{layers:[11],ref:s,args:[.1,100,c],position:[0,0,5]}),Object(n.jsx)(I,{layers:[0],envMap:c.texture,thinFilmFresnel:"Dark"===e}),Object(n.jsx)(B,{color:"Dark"===e?"#FFFFFF":"#000000",layers:[0],position:[0,0,-10],content:u,onClick:i})]})}),Object(n.jsx)("ambientLight",{intensity:.7})]})};function R(){var t=Object(a.useState)("Dark"),e=Object(c.a)(t,2),r=e[0],i=e[1];return Object(n.jsx)(f,{children:Object(n.jsx)(h.a,{concurrent:!0,shadowMap:!0,camera:{position:[0,0,5],fov:70},children:Object(n.jsx)(q,{mode:r,content:{Dark:"Death",White:"Birth"},toggleMode:function(){i("Dark"===r?"White":"Dark")}})})})}var S=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,63)).then((function(e){var r=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,o=e.getTTFB;r(t),n(t),a(t),i(t),o(t)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(R,{})}),document.getElementById("root")),S()}},[[57,1,2]]]);
//# sourceMappingURL=main.8e8dc5d2.chunk.js.map